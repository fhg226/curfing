<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.keduit.mapper.BoardHeartmapper">

<!-- 좋아요 추가 -->
<insert id="picture_heart_save" parameterType="com.curfing.pictureHeart.PictureHeartTO">
    insert into p_heart
    values(0, #{bno}, #{userid})
</insert>
<update id="picture_heart_up" parameterType="com.curfing.picture.PictureTO">
    update p_board set heart=heart+1 
    where no=#{no}
</update>

<!-- 좋아요 삭제 -->
<delete id="picture_heart_remove" parameterType="com.curfing.pictureHeart.PictureHeartTO">
    delete from p_heart
    where bno=#{bno} and userno=#{userno}
</delete>
<update id="picture_heart_down" parameterType="com.curfing.picture.PictureTO">
    update cafe_r set heart=heart-1 
    where bno=#{bno}
</update>

<!-- 좋아요 추가/삭제시 좋아요 갯수 가져오기 -->
<select id="picture_heart_count" parameterType="com.curfing.picture.PictureTO" resultType="com.curfing.picture.PictureTO">
    select heart 
    from cafe_r
    where bno=#{bno}
</select>
	
	
</mapper>